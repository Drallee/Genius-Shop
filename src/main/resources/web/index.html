<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Genius Shop - Configuration Editor</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico?v=2">
    <link rel="shortcut icon" href="/favicon.ico?v=2">
    <link rel="apple-touch-icon" href="/favicon.ico?v=2">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-top flex justify-between items-center mb-16">
                <div class="flex items-center gap-12">
                    <label for="language-selector" class="sr-only">Editor Language</label>
                    <select id="language-selector" name="language-selector" class="premium-select" style="min-width: 120px;" onchange="changeEditorLanguage(this.value)">
                        <option value="en_US">English</option>
                    </select>
                </div>


                <div id="desktop-nav" class="desktop-navigation flex gap-12 items-center">
                    <div class="nav-dropdown-wrapper">
                        <div id="user-info" class="user-badge cursor-pointer" onclick="toggleNavDropdown(event)"></div>
                        <div id="nav-dropdown" class="nav-dropdown">
                            <div class="nav-dropdown-content">
                                <label class="toggle-switch dropdown-item">
                                    <input type="checkbox" id="auto-save-toggle" name="auto-save" checked>
                                    <span class="toggle-label" data-i18n="web-editor.auto-save">Auto-save</span>
                                </label>
                                <label class="toggle-switch dropdown-item">
                                    <input type="checkbox" id="animations-toggle" name="animations" checked>
                                    <span class="toggle-label" data-i18n="web-editor.animations">Animations</span>
                                </label>
                                <div class="dropdown-divider"></div>
                                <button onclick="logout()" class="dropdown-item btn-danger-text">
                                    <span class="btn-icon"></span>
                                    <span data-i18n="web-editor.logout">LOGOUT</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="header-hero">
                <div class="header-hero-content text-center">
                    <h1 class="mb-8" data-i18n="web-editor.hero-title"> GENIUS SHOP EDITOR</h1>
                    <p class="mb-16" data-i18n="web-editor.hero-subtitle">Configure your shop with live Minecraft preview</p>
                    <div class="beta-badge" data-i18n="web-editor.beta-badge">
                         BETA
                    </div>
                </div>
            </div>
        </header>

        <div class="tabs-container">
            <div class="tabs">
                <button class="tab active" data-tab="mainmenu" data-i18n="web-editor.tabs.main-menu" onclick="switchTab('mainmenu')">MAIN MENU</button>
                <button class="tab" data-tab="shop" data-i18n="web-editor.tabs.shop" onclick="switchTab('shop')">SHOP</button>
                <button class="tab" data-tab="purchase" data-i18n="web-editor.tabs.purchase" onclick="switchTab('purchase')">PURCHASE</button>
                <button class="tab" data-tab="sell" data-i18n="web-editor.tabs.sell" onclick="switchTab('sell')">SELL</button>
                <button class="tab" data-tab="guisettings" data-i18n="web-editor.tabs.gui-settings" onclick="switchTab('guisettings')">GUI SETTINGS</button>
            </div>
        </div>

        <div class="main-content">
            <!-- Unified Editor & Preview Panel -->
            <div class="preview-panel unified-panel">
                
                <!-- Live Preview (Shared at top) -->
                <div class="minecraft-preview-section">
                    <div class="minecraft-gui" id="preview">
                        <div class="gui-title-container" title="Click to edit Title">
                            <label for="preview-title-input" class="sr-only">GUI Title</label>
                            <input type="text" id="preview-title-input" name="preview-title-input" class="gui-title-input" oninput="updateCurrentTitle(this.value)">
                            <div class="gui-title" id="preview-title" data-i18n="web-editor.preview-loading">Loading...</div>
                            <span class="edit-icon"></span>
                        </div>
                        <div id="preview-settings-bar" class="preview-settings-bar">
                            <!-- Main Menu Settings -->
                            <div id="mainmenu-settings-preview" class="preview-tab-settings active">
                                <div class="flex items-center gap-12">
                                    <div class="stealth-edit-container" title="Click to edit Rows">
                                        <label for="mainmenu-rows-input" class="sr-only">Rows</label>
                                        <input type="number" id="mainmenu-rows-input" name="mainmenu-rows-input" class="stealth-input" min="1" max="6" onchange="handleRowsChange(this.value)">
                                        <div class="stealth-display-wrapper">
                                            <span class="stealth-label" data-i18n="web-editor.rows">Rows:</span>
                                            <span id="mainmenu-rows-display" class="stealth-value">6</span>
                                            <span class="edit-icon-small"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Shop Settings -->
                            <div id="shop-settings-preview" class="preview-tab-settings">
                                <div class="flex items-center gap-12">
                                    <div class="stealth-edit-container" title="Click to edit Rows">
                                        <label for="shop-rows-input" class="sr-only">Rows</label>
                                        <input type="number" id="shop-rows-input" name="shop-rows-input" class="stealth-input" min="1" max="6" onchange="handleRowsChange(this.value)">
                                        <div class="stealth-display-wrapper">
                                            <span class="stealth-label" data-i18n="web-editor.rows">Rows:</span>
                                            <span id="shop-rows-display" class="stealth-value">6</span>
                                            <span class="edit-icon-small"></span>
                                        </div>
                                    </div>
                                    <div class="stealth-edit-container" title="Click to edit Permission" style="min-width: 150px;">
                                        <label for="shop-permission-input" class="sr-only">Permission</label>
                                        <input type="text" id="shop-permission-input" name="shop-permission-input" class="stealth-input" placeholder="None" oninput="handleShopPermissionChange(this.value)">
                                        <div class="stealth-display-wrapper">
                                            <span class="stealth-label" data-i18n="web-editor.permission">Permission:</span>
                                            <span id="shop-permission-display" class="stealth-value">None</span>
                                            <span class="edit-icon-small"></span>
                                        </div>
                                    </div>
                                    <div class="stealth-edit-container" title="Click to edit Times" style="min-width: 180px;">
                                        <label for="shop-times-input" class="sr-only">Times</label>
                                        <textarea id="shop-times-input" name="shop-times-input" class="stealth-input" placeholder="e.g. Monday, 18:00-20:00" oninput="handleShopTimesChange(this.value)"></textarea>
                                        <div class="stealth-display-wrapper">
                                            <span class="stealth-label" data-i18n="web-editor.available-times">Times:</span>
                                            <span id="shop-times-display" class="stealth-value">All day</span>
                                            <span class="edit-icon-small"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Purchase Settings -->
                            <div id="purchase-settings-preview" class="preview-tab-settings">
                                <div class="flex items-center gap-12 flex-wrap">
                                    <div class="stealth-edit-container" title="Click to edit Rows">
                                        <label for="purchase-rows-input" class="sr-only">Rows</label>
                                        <input type="number" id="purchase-rows-input" name="purchase-rows-input" class="stealth-input" min="1" max="6" onchange="handleRowsChange(this.value)">
                                        <div class="stealth-display-wrapper">
                                            <span class="stealth-label" data-i18n="web-editor.rows">Rows:</span>
                                            <span id="purchase-rows-display" class="stealth-value">6</span>
                                            <span class="edit-icon-small"></span>
                                        </div>
                                    </div>
                                    <div class="stealth-edit-container" title="Click to edit Max Amount">
                                        <label for="purchase-max-input" class="sr-only">Max Amount</label>
                                        <input type="number" id="purchase-max-input" name="purchase-max-input" class="stealth-input" min="1" oninput="handlePurchaseSettingsChange()">
                                        <div class="stealth-display-wrapper">
                                            <span class="stealth-label" data-i18n="web-editor.max-amount">Max:</span>
                                            <span id="purchase-max-display" class="stealth-value">2304</span>
                                            <span class="edit-icon-small"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Sell Settings -->
                            <div id="sell-settings-preview" class="preview-tab-settings">
                                <div class="flex items-center gap-12 flex-wrap">
                                    <div class="stealth-edit-container" title="Click to edit Rows">
                                        <label for="sell-rows-input" class="sr-only">Rows</label>
                                        <input type="number" id="sell-rows-input" name="sell-rows-input" class="stealth-input" min="1" max="6" onchange="handleRowsChange(this.value)">
                                        <div class="stealth-display-wrapper">
                                            <span class="stealth-label" data-i18n="web-editor.rows">Rows:</span>
                                            <span id="sell-rows-display" class="stealth-value">6</span>
                                            <span class="edit-icon-small"></span>
                                        </div>
                                    </div>
                                    <div class="stealth-edit-container" title="Click to edit Max Amount">
                                        <label for="sell-max-input" class="sr-only">Max Amount</label>
                                        <input type="number" id="sell-max-input" name="sell-max-input" class="stealth-input" min="1" oninput="handleSellSettingsChange()">
                                        <div class="stealth-display-wrapper">
                                            <span class="stealth-label" data-i18n="web-editor.max-amount">Max:</span>
                                            <span id="sell-max-display" class="stealth-value">2304</span>
                                            <span class="edit-icon-small"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="gui-grid" id="preview-grid"></div>
                        <!-- Page Navigation (Shop only) -->
                        <div id="page-navigation" class="pagination">
                            <button onclick="changePage(-1)" class="btn page-btn">
                                <span style="font-size: 1.1em;"></span> <span data-i18n="web-editor.prev">PREV</span>
                            </button>
                            <span id="page-indicator" class="page-indicator">Page 1/1</span>
                            <button onclick="changePage(1)" class="btn page-btn">
                                <span data-i18n="web-editor.next">NEXT</span> <span style="font-size: 1.1em;"></span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- MAIN MENU TAB -->
                <div id="mainmenu-tab" class="tab-content active">
                    <div class="content-header flex justify-between items-center mb-24">
                        <div id="mainmenu-buttons-count" class="count-badge">0 buttons</div>
                        <button class="btn btn-primary" onclick="addMainMenuShop()">
                            <span class="btn-icon"></span>
                            <span data-i18n="web-editor.add-new">ADD BUTTON</span>
                        </button>
                    </div>
                    <div id="mainmenu-shops-container" class="grid-list"></div>
                </div>

                <!-- SHOP TAB -->
                <div id="shop-tab" class="tab-content">
                    <div class="content-header flex justify-between items-center mb-24">
                        <div class="flex items-center gap-12">
                            <div class="shop-file-selector-wrapper">
                                <label for="shop-file-selector" class="sr-only">Select Shop</label>
                                <select id="shop-file-selector" name="shop-file-selector" class="premium-select" onchange="switchShop(this.value)">
                                </select>
                            </div>
                            <button class="btn btn-secondary" style="padding: 8px 12px;" onclick="createNewShop()" data-i18n-title="web-editor.shop.create-new" title="Create New"></button>
                            <div id="shop-items-count" class="count-badge">0 items</div>
                        </div>
                        <div class="flex items-center gap-12">
                            <div class="flex items-center gap-8">
                                <label for="item-sort" class="sr-only" data-i18n="web-editor.shop.sort-label">Sort by:</label>
                                <select id="item-sort" name="item-sort" class="premium-select" style="min-width: 150px;" onchange="handleItemSort()">
                                    <option value="slot-asc" data-i18n="web-editor.shop.sort.slot-asc">Slot (Low to High)</option>
                                    <option value="slot-desc" data-i18n="web-editor.shop.sort.slot-desc">Slot (High to Low)</option>
                                    <option value="name-asc" data-i18n="web-editor.shop.sort.name-asc">Name (A to Z)</option>
                                    <option value="name-desc" data-i18n="web-editor.shop.sort.name-desc">Name (Z to A)</option>
                                    <option value="material-asc" data-i18n="web-editor.shop.sort.material-asc">Material (A to Z)</option>
                                    <option value="material-desc" data-i18n="web-editor.shop.sort.material-desc">Material (Z to A)</option>
                                    <option value="price-asc" data-i18n="web-editor.shop.sort.price-asc">Buy Price (Low to High)</option>
                                    <option value="price-desc" data-i18n="web-editor.shop.sort.price-desc">Buy Price (High to Low)</option>
                                    <option value="sellPrice-asc" data-i18n="web-editor.shop.sort.sell-price-asc">Sell Price (Low to High)</option>
                                    <option value="sellPrice-desc" data-i18n="web-editor.shop.sort.sell-price-desc">Sell Price (High to Low)</option>
                                    <option value="id-asc" data-i18n="web-editor.shop.sort.id-asc">ID (Low to High)</option>
                                    <option value="id-desc" data-i18n="web-editor.shop.sort.id-desc">ID (High to Low)</option>
                                </select>
                            </div>
                            <div class="search-wrapper">
                                <label for="item-search" class="sr-only" data-i18n="web-editor.shop.search-placeholder">Search...</label>
                                <span class="search-icon"></span>
                                <input type="text" id="item-search" name="item-search" placeholder="Search..." data-i18n="web-editor.shop.search-placeholder" oninput="handleItemSearch()">
                            </div>
                            <button class="btn btn-secondary" style="padding: 8px 12px;" onclick="openShopSettingsModal()" title="Shop Settings"></button>
                            <button class="btn btn-primary" onclick="addItem()">
                                <span class="btn-icon"></span>
                                <span data-i18n="web-editor.shop.add-item">ADD ITEM</span>
                            </button>
                        </div>
                    </div>
                    <div id="items-container" class="grid-list"></div>
                </div>

                <!-- PURCHASE TAB -->
                <div id="purchase-tab" class="tab-content">
                    <div id="purchase-buttons-list" class="flex-list"></div>
                </div>

                <!-- SELL TAB -->
                <div id="sell-tab" class="tab-content">
                    <div id="sell-buttons-list" class="flex-list"></div>
                </div>

                <!-- GUI SETTINGS TAB -->
                <div id="guisettings-tab" class="tab-content">
                    <div class="content-header flex justify-between items-center mb-24">
                        <div class="flex items-center gap-12">
                            <div class="icon-badge primary"><span style="font-size: 1.1em; color: white;"></span></div>
                            <span class="header-title" data-i18n="web-editor.gui-settings.title">GUI GLOBAL SETTINGS</span>
                        </div>
                    </div>
                    <div id="gui-settings-container" class="settings-grid">
                        <!-- GUI settings will be rendered here -->
                    </div>
                </div>
                <!-- Hidden state store -->
                <div style="display: none;">
                    <pre id="export-output"></pre>
                </div>

                <div class="info-box" style="margin-top: 40px;">
                    <div class="flex justify-between items-center mb-12 cursor-pointer" onclick="toggleQuickTips()">
                        <h3 class="flex items-center gap-8 m-0">
                            <span style="font-size: 1.2em;"></span>
                            <span style="font-size: 0.9em; font-weight: 700; letter-spacing: 0.5px;" data-i18n="web-editor.tips.title">QUICK TIPS</span>
                        </h3>
                        <span id="tips-toggle-icon" class="toggle-icon" style="font-size: 0.8em; color: rgba(200, 210, 225, 0.7);"></span>
                    </div>
                    <ul id="quick-tips-list" style="display: block;">
                        <li data-i18n="web-editor.tips.tip1"> Click items in preview to edit properties</li>
                        <li data-i18n="web-editor.tips.tip2"> Real Minecraft textures displayed</li>
                        <li data-i18n="web-editor.tips.tip3"> Auto-save keeps your changes safe</li>
                        <li data-i18n="web-editor.tips.tip4"> Use SYNC to reload from server</li>
                        <li data-i18n="web-editor.tips.tip5"> Create multiple shop files</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Sticky Footer Actions -->
        <div class="sticky-footer-actions">
            <div class="footer-actions-container flex justify-center gap-16">
                <button onclick="openActivityLogModal()" class="footer-action-btn btn-secondary">
                    <span class="btn-icon"></span>
                    <span data-i18n="web-editor.history">HISTORY</span>
                </button>
                <div class="divider-v" style="height: 30px; margin: auto 0;"></div>
                <button onclick="reloadCurrentConfig()" class="footer-action-btn btn-secondary">
                    <span class="btn-icon"></span>
                    <span data-i18n="web-editor.reload">RELOAD</span>
                </button>
                <button onclick="manualSave()" class="footer-action-btn btn-primary">
                    <span class="btn-icon"></span>
                    <span data-i18n="web-editor.save-tab">SAVE TAB</span>
                </button>
                <button onclick="publishChanges()" class="footer-action-btn btn-publish">
                    <span class="btn-icon"></span>
                    <span data-i18n="web-editor.publish-all">PUBLISH ALL</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Minecraft-style tooltip -->
    <div class="minecraft-tooltip" id="minecraft-tooltip"></div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <h2 class="modal-title" id="modal-title" data-i18n="web-editor.modals.edit-item">Edit Item</h2>
                <button onclick="closeEditModal()" class="modal-close"></button>
            </div>
            <div id="modal-content">
                <!-- Content will be dynamically inserted here -->
            </div>
            <div class="modal-footer">
                <button id="modal-delete-btn" onclick="deleteFromModal()" class="btn-base btn-danger" style="display: none;">
                    <span style="margin-right: 4px;"></span>
                    <span data-i18n="web-editor.modals.delete">Delete</span>
                </button>
                <div class="flex gap-12">
                    <button onclick="closeEditModal()" class="btn-base btn-secondary" data-i18n="web-editor.modals.cancel">Cancel</button>
                    <button onclick="saveEditModal()" class="btn-base btn-success" data-i18n="web-editor.modals.save">Save</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Activity Log Modal -->
    <div id="activity-log-modal" class="modal-overlay">
        <div class="modal-box" style="max-width: 1000px;">
            <div class="modal-header">
                <h2 class="modal-title" data-i18n="web-editor.modals.history-log"> HISTORY LOG</h2>
                <button onclick="closeActivityLogModal()" class="modal-close"></button>
            </div>

            <div class="modal-body">
                <div class="flex gap-12 mb-20">
                    <button class="btn-base btn-primary flex-1" onclick="refreshActivityLog()">
                        <span data-i18n="web-editor.modals.refresh"> REFRESH</span>
                    </button>
                    <button class="btn-base btn-danger flex-1" onclick="clearActivityLog()">
                        <span data-i18n="web-editor.modals.clear"> CLEAR ALL</span>
                    </button>
                </div>

                <div class="info-box mb-20">
                    <div class="flex items-center gap-8 mb-8">
                        <span></span>
                        <h3 class="m-0" data-i18n="web-editor.modals.about-history-title">ABOUT HISTORY LOG</h3>
                    </div>
                    <p class="text-muted" style="font-size: 0.85rem; margin: 0;" data-i18n="web-editor.modals.about-history-text">
                        Track all changes made by users. Click any entry to view detailed before/after comparison.
                    </p>
                </div>

                <div id="activity-log-container" class="scroll-y" style="display: flex; flex-direction: column; gap: 0.75rem;">
                    <!-- Activity entries will be inserted here -->
                </div>

                <div id="activity-log-empty" class="text-center" style="padding: 4rem 0;">
                    <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.2;"></div>
                    <div style="font-size: 1.1rem; font-weight: 600; color: var(--text-muted);" data-i18n="web-editor.modals.no-activity">No Activity Yet</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Universal Alert Modal -->
    <div id="alert-modal" class="modal-overlay" style="z-index: 10003;">
        <div class="modal-box" style="max-width: 500px;">
            <div class="modal-header">
                <h2 id="alert-modal-title" class="modal-title flex items-center gap-12">
                    <span id="alert-modal-icon"></span>
                    <span id="alert-modal-title-text" data-i18n="web-editor.modals.alert-title">Message</span>
                </h2>
            </div>
            <div id="alert-modal-content" class="modal-body" style="line-height: 1.6; white-space: pre-wrap;">
                <!-- Content will be dynamically inserted here -->
            </div>
            <div class="modal-footer">
                <button onclick="closeAlertModal()" class="btn-base btn-primary">OK</button>
            </div>
        </div>
    </div>

    <!-- Universal Confirm Modal -->
    <div id="confirm-modal" class="modal-overlay" style="z-index: 10003;">
        <div class="modal-box" style="max-width: 500px;">
            <div class="modal-header">
                <h2 class="modal-title flex items-center gap-12">
                    <span></span>
                    <span data-i18n="web-editor.modals.confirm-title">Confirm Action</span>
                </h2>
            </div>
            <div id="confirm-modal-content" class="modal-body" style="line-height: 1.6; white-space: pre-wrap;">
                <!-- Content will be dynamically inserted here -->
            </div>
            <div class="modal-footer">
                <button onclick="closeConfirmModal(false)" class="btn-base btn-secondary" data-i18n="web-editor.modals.cancel">Cancel</button>
                <button onclick="closeConfirmModal(true)" class="btn-base btn-warning" data-i18n="web-editor.modals.confirm-button">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Prompt Modal -->
    <div id="prompt-modal" class="modal-overlay" style="z-index: 10003;">
        <div class="modal-box" style="max-width: 500px;">
            <div class="modal-header">
                <h2 id="prompt-modal-title" class="modal-title flex items-center gap-12">
                    <span id="prompt-modal-icon"></span>
                    <span id="prompt-modal-title-text" data-i18n="web-editor.modals.prompt-title">Enter Value</span>
                </h2>
            </div>
            <div class="modal-body">
                <div id="prompt-modal-content" class="mb-16">
                    <!-- Content will be dynamically inserted here -->
                </div>
                <div class="mb-24">
                    <label for="prompt-modal-input" class="sr-only">Enter value</label>
                    <input type="text" id="prompt-modal-input" name="prompt-input" class="input-base" placeholder="Enter value...">
                </div>
            </div>
            <div class="modal-footer">
                <button onclick="closePromptModal(null)" class="btn-base btn-secondary" data-i18n="web-editor.modals.cancel">Cancel</button>
                <button onclick="submitPromptModal()" class="btn-base btn-primary">OK</button>
            </div>
        </div>
    </div>

    <!-- Save Confirmation Modal -->
    <div id="save-confirmation-modal" class="modal-overlay" style="z-index: 10002;">
        <div class="modal-box">
            <div class="modal-header">
                <h2 class="modal-title flex items-center gap-12">
                    <span></span>
                    <span data-i18n="web-editor.modals.save-confirm-title">Confirm Save</span>
                </h2>
                <button onclick="closeSaveConfirmationModal()" class="modal-close"></button>
            </div>

            <div id="save-confirmation-content" class="modal-body">
                <!-- Content will be dynamically inserted here -->
            </div>

            <div class="modal-footer">
                <button onclick="closeSaveConfirmationModal()" class="btn-base btn-secondary" data-i18n="web-editor.modals.cancel">Cancel</button>
                <button onclick="confirmSave()" class="btn-base btn-success">
                    <span style="margin-right: 4px;"></span>
                    <span data-i18n="web-editor.save-tab">SAVE CURRENT TAB</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Activity Detail Modal -->
    <div id="activity-detail-modal" class="modal-overlay" style="z-index: 10001;">
        <div class="modal-box" style="max-width: 900px;">
            <div class="modal-header">
                <h2 class="modal-title flex items-center gap-12">
                    <span></span>
                    <span id="activity-detail-title" data-i18n="web-editor.modals.activity-detail-title">Change Details</span>
                </h2>
                <button onclick="closeActivityDetailModal()" class="modal-close"></button>
            </div>
            <div id="activity-detail-content" class="modal-body">
                <!-- Diff content will be dynamically inserted here -->
            </div>
            <div class="modal-footer" style="justify-content: space-between;">
                <button id="rollback-btn" onclick="rollbackChange()" class="btn-base btn-warning" style="display: none;">
                    <span data-i18n="web-editor.modals.rollback"> ROLLBACK</span>
                </button>
                <button onclick="closeActivityDetailModal()" class="btn-base btn-secondary" data-i18n="web-editor.modals.cancel">Close</button>
            </div>
        </div>
    </div>
    <footer style="margin-top: 40px; padding: 30px 0 25px 0; text-align: center; border-top: 1px solid rgba(120, 119, 198, 0.15); position: relative; z-index: 10;">
        <div style="max-width: 600px; margin: 0 auto;">
            <div style="font-size: 0.85em; color: rgba(150, 160, 180, 0.6); line-height: 1.8;">
                <p style="margin: 0 0 12px 0;" data-i18n="web-editor.footer.description">A powerful configuration editor for Minecraft shop plugins with live preview</p>
            </div>

            <div style="display: flex; gap: 16px; justify-content: center; align-items: center; margin: 16px 0; flex-wrap: wrap;">
                <a href="https://github.com/Drallee/Genius-Shop" target="_blank" style="color: rgba(120, 119, 198, 0.8); text-decoration: none; display: inline-flex; align-items: center; gap: 5px; font-size: 0.85em; transition: color 0.3s ease; position: relative; z-index: 11;" onmouseover="this.style.color='rgba(120, 119, 198, 1)';" onmouseout="this.style.color='rgba(120, 119, 198, 0.8)';" data-i18n="web-editor.footer.github">
                     Star on GitHub
                </a>
                <span style="color: rgba(120, 119, 198, 0.3);">&bull;</span>
                <a href="https://github.com/Drallee/Genius-Shop/wiki" target="_blank" style="color: rgba(120, 119, 198, 0.8); text-decoration: none; display: inline-flex; align-items: center; gap: 5px; font-size: 0.85em; transition: color 0.3s ease; position: relative; z-index: 11;" onmouseover="this.style.color='rgba(120, 119, 198, 1)';" onmouseout="this.style.color='rgba(120, 119, 198, 0.8)';">
                    Wiki
                </a>
                <span style="color: rgba(120, 119, 198, 0.3);">&bull;</span>
                <a href="https://github.com/Drallee/Genius-Shop/issues" target="_blank" style="color: rgba(120, 119, 198, 0.8); text-decoration: none; display: inline-flex; align-items: center; gap: 5px; font-size: 0.85em; transition: color 0.3s ease; position: relative; z-index: 11;" onmouseover="this.style.color='rgba(120, 119, 198, 1)';" onmouseout="this.style.color='rgba(120, 119, 198, 0.8)';" data-i18n="web-editor.footer.issues">
                     Report Issues
                </a>
            </div>

            <div style="margin-top: 16px; font-size: 0.8em; color: rgba(130, 140, 160, 0.5);">
                <p style="margin: 0;" data-i18n="web-editor.footer.made-with">Made with  by Dralle for the Minecraft community</p>
                <p style="margin: 6px 0 0 0;" data-i18n="web-editor.footer.copyright"> 2025 Genius Shop - Open Source Project</p>
            </div>
        </div>
    </footer>
    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="js/core.js"></script>
    <script src="js/database.js"></script>
    <script src="js/modals.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/events.js"></script>
</body>
</html>

